<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Családi naptár</title>

<style>
html { scroll-behavior: smooth; }

body {
    margin: 0;
    font-family: "Segoe UI", system-ui, sans-serif;
    background: radial-gradient(circle at top, #132c4a, #081422 70%);
    color: #eaeaea;
    padding: 0 12px;
}

.close-page {
    position: fixed;
    top: 14px;
    right: 16px;
    font-size: 26px;
    font-weight: 700;
    color: #ffffff;
    text-decoration: none;
    z-index: 1000;
    opacity: 0.85;
}
.close-page:hover { opacity: 1; }

header {
    text-align: center;
    padding: 28px 15px 22px;
    font-size: 32px;
    font-weight: 800;
    letter-spacing: 2px;
}

.month {
    background: linear-gradient(180deg, #0f223b, #0a1729);
    margin: 14px auto;
    border-radius: 14px;
    padding: 12px;
    max-width: 440px;
}

.current-box {
    border: 2px solid #e63946;
    box-shadow: 0 0 18px rgba(230,57,70,0.35);
}

.month h2 {
    text-align: center;
    margin: 8px 0 12px;
    font-size: 17px;
    font-weight: 700;
    letter-spacing: 1px;
    color: #ff4d4d;
}

/* NAPNEVEK */
.weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 6px;
    margin-bottom: 6px;
}

.weekday {
    text-align: center;
    font-size: 11px;
    font-weight: 700;
    color: #ffd166;
}

/* NAPOK */
.days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 6px;
}

.day {
    text-align: center;
    padding: 8px 0;
    border-radius: 6px;
    font-size: 13px;
    background-color: #1c3455;
}

.free { background-color: #1f6f3f; }
.event { background-color: #b11226; cursor: pointer; }
.other-month { background-color: #555; opacity: 0.4; }

.today {
    border: 2px solid #ffd166;
    box-shadow: 0 0 8px rgba(255,209,102,0.6);
}

/* MODAL */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
    z-index: 10;
}

.modal-content {
    background: linear-gradient(180deg, #122742, #0b1628);
    padding: 24px;
    border-radius: 14px;
    max-width: 340px;
    margin: 0 14px;
    text-align: center;
}

.modal-content h3 {
    margin-bottom: 6px;
    color: #ff4d4d;
}

.modal-location {
    font-size: 13px;
    font-weight: 600;
    color: #ffd166;
    margin-bottom: 10px;
}

.modal-link {
    display: inline-block;
    margin-top: 18px;
    color: #ff4d4d;
    text-decoration: underline;
}
</style>
</head>

<body>
<a href="fooldal.html" class="close-page">✕</a>

<header>CSALÁDI NAPTÁR
    
</header>

<p style="color: yellow; text-align: center; font-size: small;"><b><i>FIGYELEM! </b> <br>Ez az új menüpont működőképes, használható, de tesztelés alatt is áll. <br>Használd bátran, de egyelőre ne csak ez alapján tájékozodj! <br> Köszönjük! </p></i>
<div id="calendar"></div>

<div class="modal" id="modal">
    <div class="modal-content">
        <h3 id="modalTitle"></h3>
        <p id="modalLocation" class="modal-location"></p>
        <p id="modalDesc"></p>
        <a id="modalLink" class="modal-link">Részletek</a>
    </div>
</div>

<script>
const HONAPOK = [
    "JANUÁR","FEBRUÁR","MÁRCIUS","ÁPRILIS","MÁJUS","JÚNIUS",
    "JÚLIUS","AUGUSZTUS","SZEPTEMBER","OKTÓBER","NOVEMBER","DECEMBER"
];

const HETNAPOK = ["H","K","SZ","CS","P","SZO","V"];
const now = new Date();

/* PROGRAMOK – HELYSZÍNNEL */
const events = {
    "2026-06-20": {
        title: "BALLAGÁS – DORKA",
        location: "Szerencs",
        desc: "A ballagás egy fontos mérföldkő, ahol lezárul egy hosszú tanulási időszak, és új fejezet kezdődik az életben. Ez a nap a búcsúról, az emlékekről és az együtt megélt pillanatokról szól. Ilyenkor visszagondolunk a közös élményekre, sikerekre és kihívásokra is. A ballagás nemcsak az elválásról, hanem az előrelépésről és a jövőbe vetett reményről is szól. Jó alkalom arra, hogy megálljunk egy pillanatra és büszkék legyünk az eddig megtett útra. Az ünnepség közös emlékké válik mindannyiunk számára.",
        link: "programjaink.html#ballagas-dorka"
    },
        "2026-08-20": {
        title: "SZENT ISTVÁN NAPOK",
        location: "Budapest",
        desc: "2026. augusztus 20. és 23. között ismét megtelnek élettel a főváros legszebb helyszínei: a Budai Vár, a Várkert Bazár, a Tabán, a Duna-part és számos más ikonikus helyszín ad otthont a Szent István Nap eseményeinek.",
        link: "programjaink.html#szentistvannapokbudapest"
    },
            "2026-08-21": {
        title: "SZENT ISTVÁN NAPOK",
        location: "Budapest",
        desc: "2026. augusztus 20. és 23. között ismét megtelnek élettel a főváros legszebb helyszínei: a Budai Vár, a Várkert Bazár, a Tabán, a Duna-part és számos más ikonikus helyszín ad otthont a Szent István Nap eseményeinek.",
        link: "programjaink.html#szentistvannapokbudapest"
    },
            "2026-08-22": {
        title: "SZENT ISTVÁN NAPOK",
        location: "Budapest",
        desc: "2026. augusztus 20. és 23. között ismét megtelnek élettel a főváros legszebb helyszínei: a Budai Vár, a Várkert Bazár, a Tabán, a Duna-part és számos más ikonikus helyszín ad otthont a Szent István Nap eseményeinek.",
        link: "programjaink.html#szentistvannapokbudapest"
    },
            "2026-08-23": {
        title: "SZENT ISTVÁN NAPOK",
        location: "Budapest",
        desc: "2026. augusztus 20. és 23. között ismét megtelnek élettel a főváros legszebb helyszínei: a Budai Vár, a Várkert Bazár, a Tabán, a Duna-part és számos más ikonikus helyszín ad otthont a Szent István Nap eseményeinek.",
        link: "programjaink.html#szentistvannapokbudapest"
    }
};

function createMonth(year, monthIndex, isCurrent) {
    const box = document.createElement("div");
    box.className = "month" + (isCurrent ? " current-box" : "");

    const h2 = document.createElement("h2");
    h2.innerText = `${year}. ${HONAPOK[monthIndex]}`;
    box.appendChild(h2);

    const weekdays = document.createElement("div");
    weekdays.className = "weekdays";
    HETNAPOK.forEach(n => {
        const w = document.createElement("div");
        w.className = "weekday";
        w.innerText = n;
        weekdays.appendChild(w);
    });
    box.appendChild(weekdays);

    const grid = document.createElement("div");
    grid.className = "days";

    const firstDay = new Date(year, monthIndex, 1);
    let start = firstDay.getDay();
    start = start === 0 ? 6 : start - 1;

    const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();

    for (let i = 0; i < start; i++) {
        const empty = document.createElement("div");
        empty.className = "day other-month";
        grid.appendChild(empty);
    }

    for (let d = 1; d <= daysInMonth; d++) {
        const day = document.createElement("div");
        day.className = "day";

        const key = `${year}-${String(monthIndex+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;

        if (events[key]) {
            day.classList.add("event");
            day.onclick = () => openModal(events[key]);
        } else {
            day.classList.add("free");
        }

        if (
            now.getFullYear() === year &&
            now.getMonth() === monthIndex &&
            now.getDate() === d
        ) {
            day.classList.add("today");
        }

        day.innerText = d;
        grid.appendChild(day);
    }

    const total = start + daysInMonth;
    const endFill = (7 - total % 7) % 7;

    for (let i = 0; i < endFill; i++) {
        const empty = document.createElement("div");
        empty.className = "day other-month";
        grid.appendChild(empty);
    }

    box.appendChild(grid);
    return box;
}

function openModal(data) {
    modalTitle.innerText = data.title;
    modalDesc.innerText = data.desc;
    modalLink.href = data.link;

    if (data.location) {
        modalLocation.innerText = data.location;
        modalLocation.style.display = "block";
    } else {
        modalLocation.style.display = "none";
    }

    modal.style.display = "flex";
}

modal.onclick = e => {
    if (e.target === modal) modal.style.display = "none";
};

const cal = document.getElementById("calendar");
let baseYear = now.getFullYear();
let baseMonth = now.getMonth();

for (let i = 0; i < 12; i++) {
    const date = new Date(baseYear, baseMonth + i, 1);
    cal.appendChild(
        createMonth(
            date.getFullYear(),
            date.getMonth(),
            i === 0
        )
    );
}
</script>

</body>
</html>
